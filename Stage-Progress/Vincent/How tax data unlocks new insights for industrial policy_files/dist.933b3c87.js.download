(0,("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).parcelRequire94c2.register)("eDxLI",function(e,t){var i=Object.defineProperty,r=(e,t,r)=>t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,o=(e,t,i)=>(r(e,"symbol"!=typeof t?t+"":t,i),i);!function(){let e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(let e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(let i of e)if("childList"===i.type)for(let e of i.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;let t=function(e){let t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();let a=`:host{--background-color: var(--color-background, #fff);--border-color: var(--color-background, #fff);--border-color-hover: var(--color-primary, #156df9);--border-radius: 4px;--font-family: sans-serif;--font-letter-spacing: -.48px;--font-line-height: 1.25;--font-size: 16px;--icon-color: var(--color-text-secondary-transparent, #586179b3);--icon-mask-image: url(data:image/svg+xml,\\ %3Csvg%20width=%2716%27%20height=%2716%27%20viewBox=%270%200%2016%2016%27%20fill=%27none%27%20xmlns=%27http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%27%3E%3Cpath%20d=%27m13.369%2014.783.707.707%201.414-1.414-.707-.707-1.414%201.414zm-1.814-4.642a1%201%200%200%200-1.414%201.414l1.414-1.414zM6.77%2011.538A4.769%204.769%200%200%201%202%206.768H0a6.769%206.769%200%200%200%206.769%206.77v-2zM2%206.768A4.769%204.769%200%200%201%206.769%202V0A6.769%206.769%200%200%200%200%206.769h2zM6.769%202a4.769%204.769%200%200%201%204.769%204.769h2A6.769%206.769%200%200%200%206.768%200v2zm4.769%204.769a4.769%204.769%200%200%201-4.77%204.769v2a6.769%206.769%200%200%200%206.77-6.77h-2zm3.245%206.6-3.228-3.228-1.414%201.414%203.228%203.228%201.414-1.414z%27%20fill=%27currentColor%27%2F%3E%3C%2Fsvg%3E);--icon-size-height: 1.25rem;--icon-size-width: 1rem;--outline-color: var(--color-primary, #156df9);--padding: 1.5rem;--padding-inline-start: 3.5rem;--text-color: var(--color-text-primary, #101d40);--form-input-height: 4.375rem;--dropdown-max-height: calc(100dvh - var(--form-input-height) - 2rem);--item-font-family: var(--font-family);--item-font-letter-spacing: -.42px;--item-font-line-height: 1.43;--item-font-size: 14px;--item-icon-color: var(--color-border-transparent, #101d4026);--item-icon-mask-image: var(--icon-mask-image);--item-icon-mask-image-recent: url("data:image/svg+xml,%3Csvg width='16' height='16' viewBox='0 0 16 16' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M8.75 5v2.576l2.136 1.28a.75.75 0 1 1-.772 1.287l-2.5-1.5A.75.75 0 0 1 7.25 8V5a.75.75 0 0 1 1.5 0zM8 1.75a6.211 6.211 0 0 0-4.422 1.834c-.294.296-.563.585-.828.875V4a.75.75 0 0 0-1.5 0v2.5a.75.75 0 0 0 .75.75h2.5a.75.75 0 0 0 0-1.5h-.89c.328-.375.663-.736 1.031-1.109a4.75 4.75 0 1 1 .099 6.813.75.75 0 0 0-1.03 1.091A6.25 6.25 0 1 0 8 1.75z' fill='currentColor'/%3E%3C/svg%3E%0A");--item-icon-size-height: var(--icon-size-height);--item-icon-size-width: var(--icon-size-width);--item-margin: 0 .25rem;--item-outline-color: var(--outline-color);--item-padding: .25rem .75rem;--item-text-color: var(--color-text-secondary, #586179);--item-text-color-hover: var(--color-text-accent, #156df9);--item-divider-color: var(--color-border, #dee5ed);--item-pill-background-color: var(--color-primary-light, #e0f2ff);--item-pill-color: var(--color-text-secondary, #586179);--item-pill-font-family: var(--font-family);--item-pill-font-letter-spacing: -.36px;--item-pill-font-line-height: 1.33;--item-pill-font-size: 12px;--item-pill-context-background-color: var(--color-background-light, #f0f4f8);--item-pill-context-color: var(--color-text-secondary, #586179);--label-font-family: var(--font-family);--label-font-size: 11px;--label-font-letter-spacing: -.22px;--label-font-line-height: 16px;--label-text-color: var(--color-text-secondary-transparent, #586179b3);--search-reset-icon-color: var(--color-text-primary, #101d40);--search-reset-icon-dimension: 1rem;--search-reset-icon-mask-image: url("data:image/svg+xml,%3Csvg width='16' height='16' viewBox='0 0 16 16' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath%20d='M2.158%201.315c-.288.081-.63.38-.777.68a.62.62%200%200%200-.084.354c.004.363-.139.202%202.726%203.071L6.6%208l-2.577%202.58c-2.865%202.869-2.722%202.708-2.726%203.071-.002.247.104.463.346.706.357.356.7.439%201.067.257.17-.084.373-.28%202.744-2.645l2.56-2.555%202.558%202.558c2.857%202.857%202.711%202.727%203.077%202.731a.629.629%200%200%200%20.357-.084c.453-.223.766-.718.69-1.093-.062-.312-.046-.295-2.733-2.986L9.428%208l2.535-2.54c1.95-1.953%202.555-2.575%202.62-2.69.227-.406.145-.773-.259-1.164-.21-.203-.443-.31-.671-.31-.365%200-.221-.128-3.081%202.732L8.014%206.586l-2.56-2.555C3.119%201.702%202.878%201.47%202.72%201.393c-.203-.099-.392-.125-.562-.078'%20fill='currentColor'%2F%3E%3C%2Fsvg%3E");display:block;position:relative}form{align-items:center;display:flex;position:relative}form:before{background-color:var(--icon-color);content:"";display:block;height:var(--icon-size-height);inset-inline-start:var(--padding);-webkit-mask-image:var(--icon-mask-image);mask-image:var(--icon-mask-image);-webkit-mask-position:center;mask-position:center;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-size:contain;mask-size:contain;position:absolute;width:var(--icon-size-width)}@media screen and (forced-colors: active){form:before{background:CanvasText}}label,[role=status]{border:0;clip:rect(0,0,0,0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px}input[type=search]{background-color:var(--background-color);border:1px solid var(--border-color);border-radius:var(--border-radius);color:var(--text-color);display:block;font-family:var(--font-family);font-size:var(--font-size);font-weight:400;height:var(--form-input-height);letter-spacing:var(--font-letter-spacing);line-height:var(--font-line-height);padding:var(--padding);padding-inline-start:var(--padding-inline-start);width:100%}@media (prefers-reduced-motion: no-preference){input[type=search]{transition:border-color .15s linear}}input[type=search]:focus-visible{outline:2px solid var(--outline-color);outline-offset:0}input[type=search]:hover{--border-color: var(--border-color-hover)}input[type=search]::-webkit-search-clear-button{-webkit-appearance:none;-moz-appearance:none;appearance:none;display:none}input[type=search]::-webkit-search-clear-button,input[type=search]::-webkit-search-cancel-button{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:var(--search-reset-icon-color);cursor:pointer;display:inline-block;height:var(--search-reset-icon-dimension);-webkit-mask-image:var(--search-reset-icon-mask-image);mask-image:var(--search-reset-icon-mask-image);-webkit-mask-position:center;mask-position:center;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-size:contain;mask-size:contain;width:var(--search-reset-icon-dimension)}@media screen and (forced-colors: active){input[type=search]::-webkit-search-clear-button,input[type=search]::-webkit-search-cancel-button{background:CanvasText}}aside{background-color:var(--background-color);border-block-start:var(--border-radius) solid var(--border-color);border-end-end-radius:var(--border-radius);border-end-start-radius:var(--border-radius);margin-block-start:calc(var(--border-radius) * -1);max-height:var(--dropdown-max-height);overflow-y:auto;padding-block:.5rem;position:absolute;width:100%;z-index:-1;--scrollbar-color-thumb: var(--color-scroll-thumb);--scrollbar-color-track: var(--color-scroll-track);--scrollbar-color-track-hover-legacy: var(--color-scroll-track);--scrollbar-width: auto;--scrollbar-width-legacy: .625rem;scrollbar-gutter:stable}@media screen and not (forced-colors: active){@supports selector(::-webkit-scrollbar){aside::-webkit-scrollbar-thumb{background:var(--scrollbar-color-thumb);border-radius:9999px}aside::-webkit-scrollbar-track{background:transparent;border-radius:9999px}aside::-webkit-scrollbar-track:hover{background:var(--scrollbar-color-track-hover-legacy)}aside::-webkit-scrollbar{max-height:var(--scrollbar-width-legacy);max-width:var(--scrollbar-width-legacy)}aside:hover::-webkit-scrollbar-thumb{background:var(--scrollbar-color-thumb)}aside:hover{--fix: }}}aside:empty{padding-block:0}aside hr{background-color:var(--item-divider-color);border:none;height:1px;margin-block:.5rem}aside .section__label{color:var(--label-text-color);display:block;font-family:var(--label-font-family);font-size:var(--label-font-size);font-weight:400;letter-spacing:var(--label-font-letter-spacing);line-height:var(--label-font-line-height);margin:.25rem 0;padding:.25rem 1rem}aside .section__label--hidden{border:0;clip:rect(0,0,0,0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px}aside .item{align-items:center;color:var(--item-text-color);cursor:pointer;display:flex;gap:.5rem;margin-inline:.25rem;padding:.25rem .75rem;text-decoration:none}aside .item__label{color:var(--item-text-color);font-family:var(--item-font-family);font-size:var(--item-font-size);font-weight:400;letter-spacing:var(--item-font-letter-spacing);line-height:var(--item-font-line-height);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}aside .item__pill{background-color:var(--item-pill-background-color);border-radius:.875rem;color:var(--item-pill-color);flex:0 0 auto;font-family:var(--item-pill-font-family);font-size:var(--item-pill-font-size);font-weight:400;letter-spacing:var(--item-pill-font-letter-spacing);line-height:var(--item-pill-font-line-height);padding:.1875rem .625rem}aside .item:hover .item__label,aside .item[aria-selected=true] .item__label{color:var(--item-text-color-hover)}aside .item[aria-selected=true]{outline:2px solid var(--item-outline-color);outline-offset:0}aside .item--with-icon:before{background-color:var(--item-icon-color);content:"";display:block;height:var(--item-icon-size-height);inset-inline-start:1rem;-webkit-mask-position:center;mask-position:center;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-size:contain;mask-size:contain;position:absolute;width:var(--item-icon-size-width)}@media screen and (forced-colors: active){aside .item--with-icon:before{background:CanvasText}}aside .item--with-icon .item__label{margin-inline-start:1.5rem}aside .item--suggestion:before{-webkit-mask-image:var(--item-icon-mask-image);mask-image:var(--item-icon-mask-image)}aside .item--recent-search-term:before{-webkit-mask-image:var(--item-icon-mask-image-recent);mask-image:var(--item-icon-mask-image-recent)}aside .item--relevant-quick-link .item__label{font-weight:500}aside .item--context-dependent-search-link .item__pill{background-color:var(--item-pill-context-background-color);color:var(--item-pill-context-color)}
`,n=class e extends HTMLElement{constructor(){super(),o(this,"contextDependentSearchPages",[]),o(this,"dropdownList"),o(this,"dropdownListActiveItem",null),o(this,"dropdownListMessage"),o(this,"dropdownListMessageAmountOfSuggestions",0),o(this,"dropdownListMessageLabelPlural",""),o(this,"dropdownListMessageLabelSingular",""),o(this,"dropdownContextDependentSearchLinks",""),o(this,"dropdownContextDependentSearchLinksContextLabel",""),o(this,"dropdownRecentSearchQueriesLabel",""),o(this,"dropdownRelevantQuickLinksLabel",""),o(this,"dropdownSuggestionsLabel",""),o(this,"dropdownTypeAheadResultsLabel",""),o(this,"form"),o(this,"formLabel",""),o(this,"formInput"),o(this,"formInputDebounceHandler"),o(this,"formInputValueCache",null),o(this,"formInputPlaceholder",""),o(this,"searchPageBaseUrl",""),o(this,"searchApiUrlSearchSuggestions",""),o(this,"searchApiUrlSearchSuggestionsAutocomplete",""),o(this,"siteName",""),this.attachShadow({mode:"open",delegatesFocus:!0})}static get observedAttributes(){return["amount-of-suggestions"]}attributeChangedCallback(e,t,i){t!==i&&"amount-of-suggestions"===e&&(this.dropdownListMessageAmountOfSuggestions=i,this.updateDropdownListMessage())}debounce(e,t){let i=null;return function(...r){let o=this;clearTimeout(i),i=setTimeout(()=>{e.apply(o,r)},t)}}handleEvent(e){switch(e.type){case"keydown":this.handleKeyDown(e,null==e?void 0:e.code);break;case"keyup":this.handleKeyUp(e,null==e?void 0:e.code);break;case"input":this.formInputDebounceHandler(e)}}connectedCallback(){var t,i,r;this.formLabel=this.getAttribute("form-label"),this.formInputPlaceholder=this.getAttribute("form-input-placeholder"),this.formInputValueCache=null,this.contextDependentSearchPages=JSON.parse(this.getAttribute("context-dependent-search-pages")),this.dropdownContextDependentSearchLinks=this.getAttribute("dropdown-context-dependent-search-links-label"),this.dropdownContextDependentSearchLinksContextLabel=this.getAttribute("dropdown-context-dependent-search-pages-context-label"),this.dropdownListMessageAmountOfSuggestions=0,this.dropdownListMessageLabelPlural=this.getAttribute("dropdown-list-message-label-plural"),this.dropdownListMessageLabelSingular=this.getAttribute("dropdown-list-message-label-singular"),this.dropdownRecentSearchQueriesLabel=this.getAttribute("dropdown-recent-search-queries-label"),this.dropdownRelevantQuickLinksLabel=this.getAttribute("dropdown-relevant-quick-links-label"),this.dropdownSuggestionsLabel=this.getAttribute("dropdown-suggestions-label"),this.dropdownTypeAheadResultsLabel=this.getAttribute("dropdown-type-ahead-results-label"),this.searchPageBaseUrl=this.getAttribute("search-page-base-url"),this.searchApiUrlSearchSuggestions=(null==(t=this.getAttribute("search-api-url-search-suggestions"))?void 0:t.trim())??"",this.searchApiUrlSearchSuggestionsAutocomplete=(null==(i=this.getAttribute("search-api-url-search-suggestions-autocomplete"))?void 0:i.trim())??"",this.siteName=(null==(r=this.getAttribute("sitename"))?void 0:r.trim())??"",this.render(),this.form=this.shadowRoot.getElementById("search-box-form"),this.form.addEventListener("submit",e=>(e.preventDefault(),!1)),this.formInputDebounceHandler=this.debounce(this.handleInputChange,e.INPUT_CHANGE_WAIT_TIME),this.formInput=this.shadowRoot.getElementById("search-box-input"),this.formInput.addEventListener("focusin",e=>{var t;return this.handleFocusIn(null==(t=null==e?void 0:e.target)?void 0:t.value)}),this.formInput.addEventListener("input",this),this.formInput.addEventListener("keydown",this),this.formInput.addEventListener("keyup",this),this.dropdownList=this.shadowRoot.getElementById("search-box-dropdown-list"),this.dropdownListMessage=this.shadowRoot.getElementById("search-box-dropdown-list-message")}disconnectedCallback(){this.formInput.removeEventListener("input",this),this.formInput.removeEventListener("keydown",this),this.formInput.removeEventListener("keyup",this)}handleKeyDown(e,t){switch(t){case"Enter":this.handleSubmit();break;case"Escape":this.closeDropdown();break;case"ArrowDown":e.preventDefault(),this.goToNextDropdownListItem();break;case"ArrowUp":e.preventDefault(),this.goToPreviousDropdownListItem()}}handleKeyUp(e,t){switch(t){case"ArrowDown":case"ArrowUp":case"Enter":case"Escape":e.preventDefault()}}handleFocusIn(e){this.formInput.setAttribute("aria-expanded","true"),this.refreshDropdown(e)}handleInputChange(e){var t;let i=null==(t=this.formInput)?void 0:t.value;this.refreshDropdown(i)}handleItemClick(e){let t=e.currentTarget;return t.id&&t.hasAttribute("data-search-value")&&(e.preventDefault(),this.formInput.value=t.getAttribute("data-search-value"),this.dropdownListActiveItem=t,this.updateAriaActiveDescendant(this.dropdownListActiveItem),t.hasAttribute("href")?(this.helperAddRecentSearchQuery(this.formInput.value),window.location.href=t.href):this.handleSubmit()),!1}handleSubmit(){let e=this.checkActiveDescendentIsLinkAndClick();this.closeDropdown(),e||(this.helperAddRecentSearchQuery(this.formInput.value),window.location.href=this.helperCreateSearchUrl(this.searchPageBaseUrl,this.formInput.value))}checkActiveDescendentIsLinkAndClick(){return!!(this.dropdownListActiveItem&&this.dropdownListActiveItem.hasAttribute("href"))&&(this.dropdownListActiveItem.dispatchEvent(new MouseEvent("click")),!0)}goToNextDropdownListItem(){let e=this.dropdownListActiveItem;e?(e.setAttribute("aria-selected","false"),this.dropdownListActiveItem=this.helperDropdownListGetNextItem(e),this.dropdownListActiveItem&&this.dropdownListActiveItem.id?this.updateAriaActiveDescendant(this.dropdownListActiveItem):(this.updateAriaActiveDescendant(null),this.helperSetCacheAsFormInputValue(),this.formInput.focus())):(this.formInputValueCache=this.formInput.value,this.dropdownListActiveItem=this.helperDropdownListGetFirstItem(),this.updateAriaActiveDescendant(this.dropdownListActiveItem)),this.helperSetCurrentDropdownListActiveItemAsFormInputValue()}goToPreviousDropdownListItem(){let e=this.dropdownListActiveItem;e?(e.setAttribute("aria-selected","false"),this.dropdownListActiveItem=this.helperDropdownListGetPreviousItem(e),this.dropdownListActiveItem?this.updateAriaActiveDescendant(this.dropdownListActiveItem):(this.updateAriaActiveDescendant(null),this.helperSetCacheAsFormInputValue(),this.formInput.focus())):(this.formInputValueCache=this.formInput.value,this.dropdownListActiveItem=this.helperDropdownListGetLastItem(),this.updateAriaActiveDescendant(this.dropdownListActiveItem)),this.helperSetCurrentDropdownListActiveItemAsFormInputValue()}updateAriaActiveDescendant(e){e?(e.ariaSelected="true",e.hasAttribute("id")&&this.formInput.setAttribute("aria-activedescendant",e.id)):this.formInput.removeAttribute("aria-activedescendant")}clearDropdown(){this.dropdownListActiveItem=null,this.formInputValueCache=null,this.updateAriaActiveDescendant(null),this.resetAmountOfSuggestions(),this.dropdownList.innerHTML=""}closeDropdown(){this.clearDropdown(),this.formInput.setAttribute("aria-expanded","false")}refreshDropdown(t){this.clearDropdown();let i=t.trim().toLowerCase();i.length>=e.SEARCH_QUERY_MINIMAL_LENGTH?this.refreshDropdownSuggestionsAutocomplete(i):this.refreshDropdownSuggestions()}refreshDropdownSuggestions(){var e;this.resetAmountOfSuggestions();let t=this.fetchRecentSearchQueries();if(t){let e=document.createElement("span");e.className="section__label",e.textContent=this.dropdownRecentSearchQueriesLabel,e.role="presentation",this.dropdownList.appendChild(e),t.forEach((e,t)=>{let i=document.createElement("div");i.id=`search-box-dropdown-list-item--recent-search-term--${t}`,i.className="item item--with-icon item--recent-search-term";let r=document.createElement("span");r.className="item__label",r.textContent=e,i.appendChild(r),i.role="option",i.ariaSelected="false",i.tabIndex=-1,i.setAttribute("data-search-value",e),i.addEventListener("click",e=>this.handleItemClick(e)),this.dropdownList.appendChild(i)}),this.addAmountOfSuggestions(t.length)}null!=(e=this.searchApiUrlSearchSuggestions)&&e.length&&this.fetchSearchSuggestions().then(e=>{var i;if(null!=(i=e.results)&&i.length){if(t){let e=document.createElement("hr");this.dropdownList.appendChild(e)}let i=document.createElement("span");i.className="section__label",i.textContent=this.dropdownSuggestionsLabel,i.role="presentation",this.dropdownList.appendChild(i),e.results.forEach((e,t)=>{let i=document.createElement("div");i.id=`search-box-dropdown-list-item--suggestion--${t}`,i.className="item item--with-icon item--suggestion";let r=document.createElement("span");r.className="item__label",r.textContent=e.title,i.appendChild(r),i.role="option",i.ariaSelected="false",i.tabIndex=-1,i.setAttribute("data-search-value",e.title),i.addEventListener("click",e=>this.handleItemClick(e)),this.dropdownList.appendChild(i)}),this.addAmountOfSuggestions(e.results.length)}}).catch(e=>{console.log(`Could not fetch results from ${this.searchApiUrlSearchSuggestions}`,e)})}refreshDropdownSuggestionsAutocomplete(e){var t;this.resetAmountOfSuggestions();let i=this.getContextDependentSearchLinks(e);if(null!=i&&i.length){let e=document.createElement("span");e.className="section__label section__label--hidden",e.textContent=this.dropdownContextDependentSearchLinks,this.dropdownList.appendChild(e),i.forEach((e,t)=>{let i=document.createElement("a");i.id=`search-box-dropdown-list-item--context-dependent-search-link--${t}`,i.className="item item--with-icon item--suggestion item--context-dependent-search-link",i.href=e.link;let r=document.createElement("span");r.className="item__label",r.textContent=e.title,i.appendChild(r),e.contextLabel&&(i.innerHTML+=`<span class="item__pill">
                                ${this.dropdownContextDependentSearchLinksContextLabel.replace("{0}",`<b>${e.contextLabel}</b>`)}
                            </span>`),i.role="option",i.ariaSelected="false",i.tabIndex=-1,i.setAttribute("data-search-value",e.title),i.addEventListener("click",e=>this.handleItemClick(e)),this.dropdownList.appendChild(i)}),this.addAmountOfSuggestions(i.length)}null!=(t=this.searchApiUrlSearchSuggestionsAutocomplete)&&t.length&&this.fetchSearchSuggestionsAutocomplete(e).then(t=>{var r,o,a,n;if(null!=i&&i.length&&(null!=(r=t.quickLinks)&&r.length||null!=(o=t.typeAheadResults)&&o.length)){let e=document.createElement("hr");this.dropdownList.appendChild(e)}if(null!=(a=t.quickLinks)&&a.length){let i=document.createElement("span");i.className="section__label section__label--hidden",i.textContent=this.dropdownRelevantQuickLinksLabel,this.dropdownList.appendChild(i),t.quickLinks.forEach((t,i)=>{let r=document.createElement("a");r.id=`search-box-dropdown-list-item--relevant-quick-link--${i}`,r.className="item item--relevant-quick-link",r.href=t.link;let o=document.createElement("span");o.className="item__label",o.textContent=t.title,r.appendChild(o);let a=document.createElement("span");a.className="item__pill",a.textContent=t.contentType,r.appendChild(a),r.role="option",r.ariaSelected="false",r.tabIndex=-1,r.setAttribute("data-search-value",e),r.addEventListener("click",e=>this.handleItemClick(e)),this.dropdownList.appendChild(r)}),this.addAmountOfSuggestions(t.quickLinks.length)}if(null!=(n=t.typeAheadResults)&&n.length){let e=document.createElement("span");e.className="section__label section__label--hidden",e.textContent=this.dropdownTypeAheadResultsLabel,this.dropdownList.appendChild(e),t.typeAheadResults.forEach((e,t)=>{let i=document.createElement("div");i.id=`search-box-dropdown-list-item--type-ahead-result--${t}`,i.className="item item--with-icon item--suggestion item--type-ahead-result";let r=document.createElement("span");r.className="item__label",r.textContent=e,i.appendChild(r),i.role="option",i.ariaSelected="false",i.setAttribute("data-search-value",i.textContent||i.innerText),i.addEventListener("click",e=>this.handleItemClick(e)),this.dropdownList.appendChild(i)}),this.addAmountOfSuggestions(t.typeAheadResults.length)}}).catch(e=>{console.log(`Could not fetch results from ${this.searchApiUrlSearchSuggestionsAutocomplete}`,e)})}fetchRecentSearchQueries(){return JSON.parse(localStorage.getItem(e.LOCALSTORAGE_RECENT_SEARCH_QUERIES_KEY))}async fetchSearchSuggestions(){return(await fetch(this.searchApiUrlSearchSuggestions)).json()}async fetchSearchSuggestionsAutocomplete(e){let t=new URL(this.searchApiUrlSearchSuggestionsAutocomplete);return t.searchParams.set("searchTerm",e),t.searchParams.set("siteName",this.siteName),(await fetch(t)).json()}getContextDependentSearchLinks(e){var t;let i=[];return null!=(t=this.contextDependentSearchPages)&&t.length&&(i.push({contextLabel:!1,link:this.helperCreateSearchUrl(this.searchPageBaseUrl,e),title:e}),this.contextDependentSearchPages.forEach(t=>{i.push({contextLabel:t.label,link:this.helperCreateSearchUrl(t.baseUrl,e),title:e})})),i}render(){this.shadowRoot.innerHTML=`
            <form id="search-box-form" method="get">
                <label for="search-box-input">${this.formLabel}</label>
                <input id="search-box-input" 
                    name="searchTerm" 
                    type="search" 
                    placeholder="${this.formInputPlaceholder}" 
                    autocomplete="off" 
                    autocorrect="off" 
                    autocapitalize="off" 
                    spellcheck="false" 
                    role="combobox" 
                    aria-autocomplete="list" 
                    aria-expanded="false" 
                    aria-owns="search-box-dropdown-list">
            </form>
            <aside id="search-box-dropdown-list" role="listbox" aria-labelledby="search-box-input"></aside>
            <span id="search-box-dropdown-list-message" role="status" aria-live="polite"></span>`;let e=document.createElement("style");e.textContent=a,this.shadowRoot.appendChild(e)}helperSetCurrentDropdownListActiveItemAsFormInputValue(){this.dropdownListActiveItem&&(this.dropdownListActiveItem.hasAttribute("data-search-value")?this.formInput.value=this.dropdownListActiveItem.getAttribute("data-search-value"):this.helperSetCacheAsFormInputValue())}helperSetCacheAsFormInputValue(){this.formInput.value=this.formInputValueCache}helperDropdownListGetFirstItem(){return this.dropdownList.querySelector(".item")}helperDropdownListGetLastItem(){var e;return null==(e=Array.from(this.dropdownList.querySelectorAll(".item")))?void 0:e.pop()}helperDropdownListGetNextItem(e){let t=null==e?void 0:e.nextElementSibling;for(;t;){if(t.matches(".item"))return t;t=t.nextElementSibling}return t||null}helperDropdownListGetPreviousItem(e){let t=null==e?void 0:e.previousElementSibling;for(;t;){if(t.matches(".item"))return t;t=t.previousElementSibling}return t||null}helperAddRecentSearchQuery(t){let i=t.trim().toLowerCase();if(!i.length)return;let r=JSON.parse(localStorage.getItem(e.LOCALSTORAGE_RECENT_SEARCH_QUERIES_KEY))||[],o=r.indexOf(i);-1!==o&&r.splice(o,1),r.unshift(i);let a=r.slice(0,e.LOCALSTORAGE_RECENT_SEARCH_QUERIES_LIMIT);localStorage.setItem(e.LOCALSTORAGE_RECENT_SEARCH_QUERIES_KEY,JSON.stringify(a))}helperCreateSearchUrl(e,t){return`${e}?q=${encodeURIComponent(t)}`}addAmountOfSuggestions(e){let t=0;this.hasAttribute("amount-of-suggestions")&&(t=Number(this.getAttribute("amount-of-suggestions")));let i=t+e;this.setAttribute("amount-of-suggestions",i.toString())}resetAmountOfSuggestions(){this.setAttribute("amount-of-suggestions","0"),this.dropdownListMessageAmountOfSuggestions=0,this.dropdownListMessage.textContent=""}updateDropdownListMessage(){1===this.dropdownListMessageAmountOfSuggestions?this.dropdownListMessage.textContent=this.dropdownListMessageLabelSingular:this.dropdownListMessage.textContent=this.dropdownListMessageLabelPlural.replace("{0}",this.dropdownListMessageAmountOfSuggestions.toString())}};o(n,"INPUT_CHANGE_WAIT_TIME",300),o(n,"LOCALSTORAGE_RECENT_SEARCH_QUERIES_KEY","recentSearchQueries"),o(n,"LOCALSTORAGE_RECENT_SEARCH_QUERIES_LIMIT",4),o(n,"SEARCH_QUERY_MINIMAL_LENGTH",3),"customElements"in window&&window.customElements.define("oecd-searchbox",n)});
//# sourceMappingURL=dist.933b3c87.js.map
